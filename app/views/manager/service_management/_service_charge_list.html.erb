<div class="service_charge_list">
  <div class="header" style="display: flex; justify-content: space-between;">
    <div class="header_title">
      <h3>Service charge: </h3>
    </div>
    <div class="header_search">
      <div class="ui icon input">
        <input type="text" placeholder="Search...">
        <i class="icon">
          <img src="/assets/search.png" style="width: 1rem; height: 1rem; width: 1rem; top: 50%; position: absolute; transform: translateY(-50%);right: 0.7rem;">
        </i> 
      </div>
    </div>
  </div>
  <div class="filter_options" style="display: flex; justify-content: flex-start">
    <div class="ui selection dropdown" style="min-width: 6rem; margin-right: 1rem">
      <input type="hidden" name="room" onchange="onHandleFilter(this)">
      <div class="default text">Phong</div>
      <div class="menu">
        <div class="item" data-value="1">Male</div>
        <div class="item" data-value="0">Female</div>
      </div>
    </div>
    <div class="ui selection dropdown" style="min-width: 6rem; margin-right: 1rem">
      <input type="hidden" name="status" onchange="onHandleFilter(this)">
      <div class="default text">Trang thai</div>
      <div class="menu">
        <div class="item" data-value="1">Paid</div>
        <div class="item" data-value="0">Unpaid</div>
      </div>
    </div>
    <div class="ui selection dropdown" style="min-width: 6rem; margin-right: 1rem">
      <input type="hidden" name="charge" onchange="onHandleFilter(this)">
      <div class="default text">Muc tien</div>
      <div class="menu">
        <div class="item" data-value="1">
          Male
        </div>
        <div class="item" data-value="0">
          Female
        </div>
      </div>
    </div>
  </div>
  <div class=" "style="width: 20rem; margin-top: 1rem;">
    <select name="months" multiple="" class="ui fluid dropdown" onchange="onHandleFilter(this)">
      <option value="">Month</option>
      <option value="1">Thang 1</option>
      <option value="2">Thang 2</option>
      <option value="3">Thang 3</option>
      <option value="4">Thang 4</option>
      <option value="5">Thang 5</option>
      <option value="6">Thang 6</option>
      <option value="7">Thang 7</option>
      <option value="8">Thang 8</option>
      <option value="9">Thang 9</option>
      <option value="10">Thang 10</option>
      <option value="11">Thang 11</option>
      <option value="12">Thang 12</option>
    </select>
  </div>
   <div class="remind checkbox_col" style="display: none">
    <button class="button" id="myElement" disabled style="float: right; margin: 1rem 1.8rem 1rem 0;" onclick="onclick()">Orange</button>
  </div>
  <table class="ui very basic selectable table">
    <thead>
      <tr>
        <th>STT</th>
        <th>Phong</th>
        <th>Thang</th>
        <th>Tien dien</th>
        <th>Tien nuoc</th>
        <th>Tong</th>
        <th>Trang thai</th>
        <th>Nguoi nop tien</th>
        <th style="display: none" class="checkbox_col">
         <div class="ui checkbox">
            <input type="checkbox" name="example" onchange="selectItem(this) ">
            <label></label>
          </div>
        </th>
      </tr>
    </thead>
    <tbody>
      <% for i in 0..5 do %>
        <tr onclick="showServiceChargeInfo()">
          <td>1</td>
          <td>P1010</td>
          <td>2</td>
          <td>200,000</td>
          <td>300,000</td>
          <td>500,000</td>
          <td>
            <% if i % 2 == 0 %>
              <a class="ui teal tag label teal_label" style="width: 5.7rem">Paid</a>
            <% else  %>
              <a class="ui tag label danger_label" style="width: 5.7rem">Unpaid</a>
            <% end  %>
          </td>
          <td>Tra</td>
          <td style="display: none" class="checkbox_col">
          <div class="ui checkbox">
            <input class="remind_checkbox" type="checkbox" name="example" onchange="onHandleCheckbox(this)">
            <label></label>
          </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<div class="ui first modal service_charge_info">
  <i class="close icon"></i>
  <div class="header">
    Service charge
  </div>
  <div class="ui header" style="margin-bottom: 2rem;">P1410</div>
  <div class="">
    <div class="ui grid">
      <div class="one wide column"></div>
      <div class="five wide column">
        <div class="student-info">
          <label>Thang:</label>
          <p>Thang 2</p>
          <label>Tong tien:</label>
          <p>500000</p>
        </div>
      </div>
      <div class="five wide column">
        <div class="student-info">
          <label>Tien dien: </label>
          <p>200000</p>
          <label>Tien nuoc</label>
          <p>300000</p>
        </div>
      </div>
      <div class="five wide column">
        <div class="student-info">
          <label>Trang thai: </label>
          <p>Unpaid</p>
          <label>Nguoi nop</label>
          <p>Tra</p>
        </div>
      </div>
    </div>
  </div>
  <div class="actions" style="padding: 0.7rem 1rem;">
    <div class="ui black deny button">
      Cancel
    </div>
    <div class="ui positive right labeled icon button edit">
      Edit
      <i class="arrow right icon"></i>
    </div>
  </div>
</div>

<div class="ui second modal service_charge_info">
  <i class="close icon"></i>
  <div class="header">
    Service charge edit
  </div>
  <div class="ui header" style="margin-bottom: 2rem;">P1410</div>
  <form class="ui form" style="margin: 0 1.5rem">
    <div class="three fields">
      <div class="field">
        <label>Thang</label>
        <input type="text" placeholder="Thang" disabled value="Thang 2">
      </div>
      <div class="field">
        <label>Tien dien</label>
        <input type="text" placeholder="Tien dien">
      </div>
      <div class="field">
        <label>Trang thai</label>
        <div class="ui selection dropdown">
          <input type="hidden" name="gender">
          <i class="dropdown icon"></i>
          <div class="default text">Trang thai</div>
          <div class="menu">
            <div class="item" data-value="1">Paid</div>
            <div class="item" data-value="0">Unpaid</div>
          </div>
        </div>
      </div>
    </div>
    <div class="three fields">
      <div class="field">
        <label>Tong tien</label>
        <input type="text" placeholder="Tong tien">
      </div>
      <div class="field">
        <label>Tien nuoc</label>
        <input type="text" placeholder="Tien nuoc">
      </div>
      <div class="field">
        <label>Nguoi nop</label>
        <input type="text" placeholder="Nguoi nop">
      </div>
    </div>
  </form>
  <div class="actions" style="padding: 0.7rem 1rem;">
    <div class="ui black deny button">
      Cancel
    </div>
    <div class="ui positive right labeled icon button">
      Submit
      <i class="arrow right icon"></i>
    </div>
  </div>
</div>

<script>
  $('.ui.dropdown').dropdown();
  function selectItem(event) {
    if (event.checked == true) {
      $('.remind_checkbox').prop('checked', true);
      $('.remind .button').addClass('hover');
    }
    else if (event.checked == false) {
      $('.remind_checkbox').prop('checked', false);
      $('.remind .button').removeClass('hover');
    }
  }

  function onHandleCheckbox (event) {
    var checkboxes = $('input:checkbox:checked').length;
    if (checkboxes > 0) {
      $('.remind .button').prop('disabled', false)
      $('.remind .button').addClass('hover');
    }
    else if (checkboxes <= 0)
    {
      $('.remind .button').removeClass('hover');
    }
  }

  function onHandleFilter (event) {
    if (event.name == "status" & event.value == 0) {
      $('.checkbox_col').css("display", "block");
    }
    else if (event.name == "status" & event.value == 1) {
      $('.checkbox_col').css("display", "none");
    }
  }

  function onclick() {
    console.log(123)
  }

  function showServiceChargeInfo() {
    $('.ui.modal.first.service_charge_info').modal('show');
  }

  $('.second.modal')
    .modal('attach events', '.first.modal .button.edit');

  $('.ui.dropdown')
  .dropdown();
</script>